<template name="addCommunityEvents">
  <!--Modal launched when Edit button below clicked -->
  <div class="modal fade" id="addEventModal">
    <div class="modal-dialog">
      <div class="modal-content">
        <div class="modal-header">
          <button type="button" class="close" data-dismiss="modal" aria-hidden="true">
            &times;</button>
          <h4 class="modal-title text-center">Add Event</h4>
        </div>
        <div class="modal-body">
        {{#autoForm collection="Events" id="insertEventsForm" type="insert"}}
          <fieldset>
            <legend>Add Event</legend>
            {{> afQuickField name="name"}}
            {{> afQuickField name="address" id='eventAddress'}}
            {{> afQuickField name="url"}}
            {{> afQuickField name="description"}}
            {{> afQuickField name="active"}}
            {{> afQuickField name="startDate" type="datetime-local" offset="-0500"}}
            {{> afQuickField name="endDate" type="datetime-local" offset="-0500"}}
            {{> afQuickField name="isPointsPerHour" id="pointsCheckbox" value="checked"}}
            {{#if displayPointsPerHour}}
              {{> afQuickField name="pointsPerHour" value=100}}
            {{else}}
              {{> afQuickField name="points"}}
            {{/if}}
          </fieldset>
          <button type="button" class="btn btn-default" id="geocodeButton">Geocode</button>
          {{#if geocodeResultsReturned}}
            <button type="submit" class="btn btn-default" id="submit">Submit</button>
          {{/if}}
        {{/autoForm}}
        </div>
        <div class="modal-footer">
          <button type="button" class="btn btn-default" data-dismiss="modal">Close</button>
        </div>
      </div><!-- /.modal-content -->
    </div><!-- /.modal-dialog -->
  </div><!-- /.modal -->
  {{#unless showMapClicked}}
    <h3 class="text-center"><small>Note: All events are 100 points per hour by default. </small></h3>
    {{>listEvents 'All'}}
    <div class="row text-center">
      <button type="button" class="btn btn-lg btn-default text-center"
        id="addEvent" data-toggle="modal" data-target="#addEventModal">Add Event</button>
      <button type="button" class="btn btn-lg btn-default text-center" id="showMap">
        Show Events on Map</button>
    </div>
    <br><br>
  {{/unless}}
  {{#if showMapClicked}}
    <div class="text-center row">
      <button type="button" class="btn btn-danger text-center" id="hideMap">Hide Map</button>
    </div>
    {{> communityNeeds }}
  {{/if}}
</template>
